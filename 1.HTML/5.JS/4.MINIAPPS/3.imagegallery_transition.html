<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .slide {
            position: relative;
            width: 200px;
            height: 200px;
            overflow: hidden;
        }

        /* 이미지 */
        .images {
            display: flex;       /* 옆으로 나란히 배치 */
            width: 600px;        /* 200px * 이미지 3개 */
            transition: transform 0.5s; /* 이동 애니메이션 */
        }
        .images img {
            width: 200px;
            height: 200px;
            /* 투명도 트랜지션 */
            opacity: 0.3;
            transition: opacity 0.5s ease;
        }
        /* 현재 이미지 강조 */
        .images img.active {
            opacity: 1;
        }

        /* 버튼 */
        .slide button {
            position: absolute;
            top: 50%;
            cursor: pointer;
            z-index: 2;
        }
        #prevBtn {
            left: 5px;
        }
        #nextBtn {
            right: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>이미지 갤러리 - 트랜지션</h1>
        <div class="slide">
            <div class="images">
                <img src="images/kitty1.jpg" class="active">
                <img src="images/kitty2.jpg">
                <img src="images/kitty3.jpg">
            </div>
            <button id="prevBtn">prev</button>
            <button id="nextBtn">next</button>
        </div>
    </div>

    <script>
        const images = document.querySelectorAll(".images img");
        const imagesBox = document.querySelector(".images");
        const prev = document.getElementById("prevBtn");
        const next = document.getElementById("nextBtn");
        let current = 0;

        // 이미지와 제목 업데이트 함수
        function updateView(index){
            // 이동 방향에 맞게 opacity 변화
            images.forEach(img => img.classList.remove("active"));
            images[index].classList.add("active");

            // 슬라이드
            // current = 1 → translateX(-200px) / current = 2 → translateX(-400px)
            imagesBox.style.transform = `translateX(-${index * 200}px)`;

            // 기본적으로 둘 다 활성화
            // prev.disabled = false;
            // next.disabled = false;

            // // 첫번째 이미지일때 prev 비활성화
            // if(index === 0){
            //     prev.disabled = true;
            // }
            
            // // 마지막 이미지일때 next 비활성화
            // if(index === images.length - 1){
            //     next.disabled = true;
            // }

            prev.disabled = index === 0;
            next.disabled = index === images.length - 1;
        }
        // 초기 상태
        updateView(current);
        
        // prev 버튼 클릭시
        prev.addEventListener("click", () => {
            if(current > 0){
                current--;
                updateView(current);
            }
        });

        // next 버튼 클릭시
        next.addEventListener("click", () => {
            if(current < images.length - 1){
                current++;
                updateView(current);
            }
        });
    </script>
</body>
</html>